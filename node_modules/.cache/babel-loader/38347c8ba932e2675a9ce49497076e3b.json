{"ast":null,"code":"var _jsxFileName = \"/Users/yagmyrov/Dev/web-batborek/travelio/src/pages/MainPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Select from \"react-select\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const MainPage = () => {\n  _s();\n\n  const [todayCase, setTodayCase] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const SearchCovid = () => {\n    // GET request using fetch with error handling\n    fetch(\"https://corona.lmao.ninja/v2/countries/\".concat(country + \"?yesterday=true\")).then(async response => {\n      const data = await response.json();\n\n      if (!response.ok) {\n        const error = data && data.message || response.statusText;\n        return Promise.reject(error);\n      }\n\n      setTodayCase(data.todayCases);\n      searchCity();\n    }).catch(error => {\n      setError(error.toString());\n      console.error(\"There was an error!\", error);\n    });\n  };\n\n  const options = [{\n    value: \"Romania\",\n    label: \"Romania\"\n  }, {\n    value: \"Turkey\",\n    label: \"Turkey\"\n  }, {\n    value: \"Italy\",\n    label: \"Italy\"\n  }];\n  var cities = [];\n  const [country, setCountry] = useState(\"\");\n\n  const handleChange = e => {\n    setCountry(e.value);\n  };\n\n  const searchCity = () => {\n    fetch(\"https://hotels4.p.rapidapi.com/locations/search?query=\".concat(country), {\n      method: \"GET\",\n      headers: {\n        \"x-rapidapi-key\": \"61a532192dmshe4a97d8c6f89d54p10fee6jsn704ac1d1b9ac\",\n        \"x-rapidapi-host\": \"hotels4.p.rapidapi.com\"\n      }\n    }).then(async response => {\n      const data = await response.json();\n      cities = data.suggestions[0].entities;\n      cities.map((city, index) => {\n        console.log(index, city.name);\n      });\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Select, {\n      options: options,\n      onChange: handleChange.bind(this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), console.log(country), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: SearchCovid,\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Today's Case: \", todayCase]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MainPage, \"wwaKoOSoQVJujWdypZ3wO+Qj7dc=\");\n\n_c = MainPage;\nexport default MainPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"sources":["/Users/yagmyrov/Dev/web-batborek/travelio/src/pages/MainPage.js"],"names":["React","useState","Select","MainPage","todayCase","setTodayCase","error","setError","SearchCovid","fetch","concat","country","then","response","data","json","ok","message","statusText","Promise","reject","todayCases","searchCity","catch","toString","console","options","value","label","cities","setCountry","handleChange","e","method","headers","suggestions","entities","map","city","index","log","name","err","bind"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,cAAnB;;;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AAC5B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BJ,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMO,WAAW,GAAG,MAAM;AACxB;AACAC,IAAAA,KAAK,CACH,0CAA0CC,MAA1C,CACEC,OAAO,GAAG,iBADZ,CADG,CAAL,CAKGC,IALH,CAKQ,MAAOC,QAAP,IAAoB;AACxB,YAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAnB;;AAEA,UAAI,CAACF,QAAQ,CAACG,EAAd,EAAkB;AAChB,cAAMV,KAAK,GAAIQ,IAAI,IAAIA,IAAI,CAACG,OAAd,IAA0BJ,QAAQ,CAACK,UAAjD;AACA,eAAOC,OAAO,CAACC,MAAR,CAAed,KAAf,CAAP;AACD;;AAEDD,MAAAA,YAAY,CAACS,IAAI,CAACO,UAAN,CAAZ;AACAC,MAAAA,UAAU;AACX,KAfH,EAgBGC,KAhBH,CAgBUjB,KAAD,IAAW;AAChBC,MAAAA,QAAQ,CAACD,KAAK,CAACkB,QAAN,EAAD,CAAR;AACAC,MAAAA,OAAO,CAACnB,KAAR,CAAc,qBAAd,EAAqCA,KAArC;AACD,KAnBH;AAoBD,GAtBD;;AAwBA,QAAMoB,OAAO,GAAG,CACd;AAAEC,IAAAA,KAAK,EAAE,SAAT;AAAoBC,IAAAA,KAAK,EAAE;AAA3B,GADc,EAEd;AAAED,IAAAA,KAAK,EAAE,QAAT;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAFc,EAGd;AAAED,IAAAA,KAAK,EAAE,OAAT;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GAHc,CAAhB;AAKA,MAAIC,MAAM,GAAG,EAAb;AACA,QAAM,CAAClB,OAAD,EAAUmB,UAAV,IAAwB7B,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAM8B,YAAY,GAAIC,CAAD,IAAO;AAC1BF,IAAAA,UAAU,CAACE,CAAC,CAACL,KAAH,CAAV;AACD,GAFD;;AAIA,QAAML,UAAU,GAAG,MAAM;AACvBb,IAAAA,KAAK,CACH,yDAAyDC,MAAzD,CAAgEC,OAAhE,CADG,EAEH;AACEsB,MAAAA,MAAM,EAAE,KADV;AAEEC,MAAAA,OAAO,EAAE;AACP,0BACE,oDAFK;AAGP,2BAAmB;AAHZ;AAFX,KAFG,CAAL,CAWGtB,IAXH,CAWQ,MAAOC,QAAP,IAAoB;AACxB,YAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAnB;AACAc,MAAAA,MAAM,GAAGf,IAAI,CAACqB,WAAL,CAAiB,CAAjB,EAAoBC,QAA7B;AACAP,MAAAA,MAAM,CAACQ,GAAP,CAAW,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC1Bd,QAAAA,OAAO,CAACe,GAAR,CAAYD,KAAZ,EAAmBD,IAAI,CAACG,IAAxB;AACD,OAFD;AAGD,KAjBH,EAkBGlB,KAlBH,CAkBUmB,GAAD,IAAS;AACdjB,MAAAA,OAAO,CAACnB,KAAR,CAAcoC,GAAd;AACD,KApBH;AAqBD,GAtBD;;AAwBA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAEhB,OAAjB;AAA0B,MAAA,QAAQ,EAAEK,YAAY,CAACY,IAAb,CAAkB,IAAlB;AAApC;AAAA;AAAA;AAAA;AAAA,YADF,EAEGlB,OAAO,CAACe,GAAR,CAAY7B,OAAZ,CAFH,eAGE;AAAQ,MAAA,OAAO,EAAEH,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE;AAAA,mCAAmBJ,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA,kBADF;AAQD,CAxEM;;GAAMD,Q;;KAAAA,Q;AA0Eb,eAAeA,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport Select from \"react-select\";\n\nexport const MainPage = () => {\n  const [todayCase, setTodayCase] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const SearchCovid = () => {\n    // GET request using fetch with error handling\n    fetch(\n      \"https://corona.lmao.ninja/v2/countries/\".concat(\n        country + \"?yesterday=true\"\n      )\n    )\n      .then(async (response) => {\n        const data = await response.json();\n\n        if (!response.ok) {\n          const error = (data && data.message) || response.statusText;\n          return Promise.reject(error);\n        }\n\n        setTodayCase(data.todayCases);\n        searchCity();\n      })\n      .catch((error) => {\n        setError(error.toString());\n        console.error(\"There was an error!\", error);\n      });\n  };\n\n  const options = [\n    { value: \"Romania\", label: \"Romania\" },\n    { value: \"Turkey\", label: \"Turkey\" },\n    { value: \"Italy\", label: \"Italy\" },\n  ];\n  var cities = [];\n  const [country, setCountry] = useState(\"\");\n\n  const handleChange = (e) => {\n    setCountry(e.value);\n  };\n\n  const searchCity = () => {\n    fetch(\n      \"https://hotels4.p.rapidapi.com/locations/search?query=\".concat(country),\n      {\n        method: \"GET\",\n        headers: {\n          \"x-rapidapi-key\":\n            \"61a532192dmshe4a97d8c6f89d54p10fee6jsn704ac1d1b9ac\",\n          \"x-rapidapi-host\": \"hotels4.p.rapidapi.com\",\n        },\n      }\n    )\n      .then(async (response) => {\n        const data = await response.json();\n        cities = data.suggestions[0].entities;\n        cities.map((city, index) => {\n          console.log(index, city.name);\n        });\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n\n  return (\n    <>\n      <Select options={options} onChange={handleChange.bind(this)} />\n      {console.log(country)}\n      <button onClick={SearchCovid}>Search</button>\n      <h1>Today's Case: {todayCase}</h1>\n    </>\n  );\n};\n\nexport default MainPage;\n"]},"metadata":{},"sourceType":"module"}